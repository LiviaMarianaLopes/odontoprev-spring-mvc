<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Dentista</title>
    <link th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}" rel="stylesheet"/>
    <script th:href="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}" defer></script>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
</head>
<body>
<div th:replace="~{fragments/header.html :: header}"></div>

<div class="container mt-4">
    <h2 class="mb-4 text-center">Cadastro de Dentista</h2>

    <form method="post" th:action="@{/dentista/cadastrar}" th:object="${dentista}" class="row g-3">
        <div class="col-md-6">
            <label for="nome" class="form-label">Nome:</label>
            <input type="text" class="form-control" id="nome" th:field="*{nome}" required>
        </div>

        <div class="col-md-6">
            <label for="cro" class="form-label">CRO:</label>
            <input type="text" class="form-control" id="cro" th:field="*{cro}" required>
        </div>

        <div class="col-md-4">
            <label for="dataNascimento" class="form-label">Data de Nascimento:</label>
            <input type="date" class="form-control" id="dataNascimento" th:field="*{dataNascimento}" required>
        </div>

        <div class="col-md-8">
            <label for="email" class="form-label">Email:</label>
            <input type="email" class="form-control" id="email" th:field="*{email}" required
                   oninput="document.getElementById('loginEmail').value = this.value">
            <input type="hidden" th:field="*{login.email}" id="loginEmail">
        </div>

        <div class="col-md-6">
            <label for="telefone" class="form-label">Telefone:</label>
            <input type="text" class="form-control" id="telefone" th:field="*{telefone}" required>
        </div>

        <div class="col-md-6">
            <label for="cpf" class="form-label">CPF:</label>
            <input type="text" class="form-control" id="cpf" th:field="*{cpf}" required>
        </div>

        <div class="col-md-6">
            <label for="senha" class="form-label">Senha:</label>
            <input type="password" class="form-control" id="senha" th:field="*{login.senha}" required>
        </div>

        <div class="col-md-6">
            <label for="genero" class="form-label">Gênero:</label>
            <select class="form-select" id="genero" th:field="*{genero.titulo}">
                <option value="Feminino">Feminino</option>
                <option value="Masculino">Masculino</option>
            </select>
        </div>

        <hr class="mt-4">

        <h4 class="text-center">Endereço</h4>

        <div class="col-md-6">
            <label for="logradouro" class="form-label">Logradouro:</label>
            <input type="text" class="form-control" id="logradouro" th:field="*{endereco.logradouro}" required>
        </div>

        <div class="col-md-3">
            <label for="numero" class="form-label">Número:</label>
            <input type="text" class="form-control" id="numero" th:field="*{endereco.numero}" required>
        </div>

        <div class="col-md-3">
            <label for="cep" class="form-label">CEP:</label>
            <input type="text" class="form-control" id="cep" th:field="*{endereco.cep}" required>
        </div>

        <div class="col-md-6">
            <label for="complemento" class="form-label">Complemento:</label>
            <input type="text" class="form-control" id="complemento" th:field="*{endereco.complemento}">
        </div>

        <div class="col-md-6">
            <label for="bairro" class="form-label">Bairro:</label>
            <input type="text" class="form-control" id="bairro" th:field="*{endereco.bairro.nome}" required>
        </div>

        <div class="col-md-6">
            <label for="cidade" class="form-label">Cidade:</label>
            <input type="text" class="form-control" id="cidade" th:field="*{endereco.bairro.cidade.nome}" required>
        </div>

        <div class="col-md-6">
            <label for="estado" class="form-label">Estado:</label>
            <select class="form-select" id="estado" th:field="*{endereco.bairro.cidade.estado.sigla}">
                <option value="">Selecione</option>
                <option value="SP">SP</option>
                <option value="RJ">RJ</option>
                <option value="MG">MG</option>
                <option value="BA">BA</option>
                <option value="RS">RS</option>
                <option value="PR">PR</option>
                <option value="SC">SC</option>
                <option value="PE">PE</option>
                <option value="GO">GO</option>
            </select>
        </div>

        <div class="col-12 text-center">
            <button type="submit" class="btn btn-primary">Cadastrar</button>
        </div>
    </form>

    <div th:if="${errors}" class="mt-3">
        <ul class="text-danger">
            <li th:each="error : ${errors}" th:text="${error.defaultMessage}"></li>
        </ul>
    </div>
</div>

<div th:replace="~{fragments/footer.html :: footer}"></div>
</body>
</html>
